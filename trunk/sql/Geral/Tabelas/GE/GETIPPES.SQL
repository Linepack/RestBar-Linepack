CREATE TABLE GETIPPES(
 CD_TP_PESSOA         NUMBER(4),
 CD_PESSOA            NUMBER(6)
)
/

ALTER TABLE GETIPPES
 ADD (NM_USUINC  VARCHAR2(30) NOT NULL)
ADD (DT_USUINC  DATE NOT NULL)
 ADD (NM_USUALT  VARCHAR2(30))
 ADD (DT_USUALT  DATE)
/

ALTER TABLE GETIPPES
 ADD CONSTRAINT FK_GETIPPES_GEPESSOA FOREIGN KEY (CD_PESSOA)
  REFERENCES GEPESSOA (CD_PESSOA)
/

CREATE INDEX FK_GETIPPES_GEPESSOA_IX on GETIPPES(CD_PESSOA)
 TABLESPACE INDICES_TABLESPACE
/

ALTER TABLE GETIPPES
 ADD CONSTRAINT FK_GETIPPES_GETIPOPE FOREIGN KEY (CD_TP_PESSOA)
  REFERENCES GETIPOPE (CD_TP_PESSOA)
/

CREATE INDEX FK_GETIPPES_GETIPOPE_IX on GETIPPES(CD_TP_PESSOA)
 TABLESPACE INDICES_TABLESPACE
/

ALTER TABLE GETIPPES
 ADD CONSTRAINT PK_GETIPPES PRIMARY KEY (CD_TP_PESSOA, CD_PESSOA)
/

comment on column GETIPPES.cd_tp_pessoa is 'Código do Tipo da Pessoa';
comment on column GETIPPES.cd_pessoa is 'Código da Pessoa';

create public synonym getippes for getippes
/

grant all on getippes to linepack_role
/